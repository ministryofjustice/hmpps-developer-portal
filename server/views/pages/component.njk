{% extends "../partials/layout.njk" %}

{% set pageTitle = applicationName + " - " + component.name %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}

<h1 id="detailPageTitle">{{ component.name }}</h1>

<table class="componentData">
  <tbody>
    <tr>
      <th>Description</th>
      <td>{{ component.description }}</td>
    </tr>
    <tr>
      <th>Title</th>
      <td>{{ component.title }}</td>
    </tr>
    <tr>
      <th>Jira Project Keys</th>
      <td>{{ component.jiraProjectKeys }}</td>
    </tr>
    <tr>
      <th>GitHub Write</th>
      <td>{{ component.githubWrite }}</td>
    </tr>
    <tr>
      <th>GitHub Admin</th>
      <td>{{ component.githubAdmin }}</td>
    </tr>
    <tr>
      <th>GitHub Restricted</th>
      <td>{{ component.githubRestricted }}</td>
    </tr>
    <tr>
      <th>GitHub Repo</th>
      <td>{{ component.githubRepo }}</td>
    </tr>
    <tr>
      <th>GitHub Visibility</th>
      <td>{{ component.githubVisibility }}</td>
    </tr>
    <tr>
      <th>App Insights Cloud Role Name</th>
      <td>{{ component.appInsightsName }}</td>
    </tr>
    <tr>
      <th>API</th>
      <td>{% if component.api %}Yes{% else %}No{% endif %}</td>
    </tr>
    <tr>
      <th>Frontend</th>
      <td>{% if component.frontend %}Yes{% else %}No{% endif %}</td>
    </tr>
    <tr>
      <th>Part of monorepo</th>
      <td>{% if component.partOfMonorepo %}Yes{% else %}No{% endif %}</td>
    </tr>
    <tr>
      <th>Language</th>
      <td>{{ component.language }}</td>
    </tr>
    <tr>
      <th>Product</th>
      <td><a href="/products/{{ component.product.id }}">{{ component.product.attributes.name }}</a></td>
    </tr>
    <tr>
      <th>Environments</th>
      <td>
        {% if component.environments | length %}
        <table>
          <tbody>
            <tr>
              <th>ID</th>
              {% for environment in component.environments %}
              <td>{{ environment.id }}</td>
              {% endfor %}
            </tr>
            <tr>
              <th>Name</th>
              {% for environment in component.environments %}
              <td><a href="/components/{{ component.id }}/environment/{{ environment.id }}">{{ environment.name }}</a></td>
              {% endfor %}
            </tr>
          </tbody>
        </table>
        {% else %}
        <p>None</p>
        {% endif %}
      </td>
    </tr>
  </tbody>
</table>

{% endblock %}
